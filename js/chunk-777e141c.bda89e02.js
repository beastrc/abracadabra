(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-777e141c"],{"0842":function(e,t,n){},"7eb0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pool-view"},[n("div",{staticClass:"container mini"},[n("BackButton",{attrs:{text:"Stand"},on:{click:e.toStand}}),n("h1",[e._v("Magic happens here")]),n("div",{staticClass:"pool-head-bar"},[n("div",{staticClass:"btns-group"},[n("button",{staticClass:"btn mini borrow-btn",class:{active:"borrow"===e.actionType},on:{click:function(t){return e.setActionType("borrow")}}},[e._v(" Borrow ")]),n("button",{staticClass:"btn mini replay-btn",class:{active:"repay"===e.actionType},on:{click:function(t){return e.setActionType("repay")}}},[e._v(" Repay ")])]),e.pool?[n("LiquidationBar",{attrs:{pool:e.pool}})]:e._e()],2),e.pool?n("div",{staticClass:"pool-content"},[n("BorrowRepayComponent",{attrs:{actionType:e.actionType,balance:e.pool.userBalance,pairBalance:e.pool.userPairBalance,isUpdatePrice:e.pool.askUpdatePrice,tokenName:e.pool.token.name,tokenToUsd:e.pool.tokenPrice,tokenDecimals:e.pool.token.decimals,tokenPair:e.pool.tokenPairPrice,tokenPairName:e.pool.pairToken.name,tokenPairDecimals:e.pool.pairToken.decimals,userTotalCollateral:e.pool.userCollateralShare,userTotalBorrowed:e.pool.userBorrowPart,ltv:e.pool.ltv},on:{addAndBorrow:e.addAndBorrowHandler,addCollateral:e.addCollateralHandler,borrow:e.borrowHandler,removeAndRepay:e.removeAndRepayHandler,removeAndRepayMax:e.removeAndRepayMaxHandler,repay:e.repayHandler,removeCollateral:e.removeCollateralHandler,addAndBorrowMultiple:e.addMultiBorrowHandler,borrowMultiple:e.addMultiBorrowHandler}}),n("CollateralParameters",{attrs:{infoItems:e.pool.collateralInfo,exchangeRate:e.pool.tokenPrice,tokenName:e.pool.token.name}}),n("Balances",{attrs:{balances:[{balance:e.pool.userBalance,token:e.pool.token.name,decimals:e.pool.token.decimals},{balance:e.pool.userPairBalance,token:e.pool.pairToken.name,decimals:e.pool.pairToken.decimals}]}}),n("InfoBlock",{attrs:{infoItems:e.pool.mainInfo}})],1):e._e()],1)])},a=[],o=n("1da1"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("25f0"),n("b0c0"),function(){return n.e("chunk-15441306").then(n.bind(null,"cba4"))}),c=function(){return n.e("chunk-34707b24").then(n.bind(null,"b46d"))},u=function(){return n.e("chunk-071f5fe3").then(n.bind(null,"5c17"))},i=function(){return n.e("chunk-41c17e6a").then(n.bind(null,"c02b"))},p=function(){return n.e("chunk-e8f97978").then(n.bind(null,"3380"))},l=function(){return n.e("chunk-05906901").then(n.bind(null,"8c2a"))},d={data:function(){return{actionType:"borrow",gasLimitConst:1e3}},computed:{pool:function(){var e=this.$route.params.id;return this.$store.getters.getPoolById(e)},signer:function(){return this.$store.getters.getSigner},account:function(){return this.$store.getters.getAccount}},methods:{setActionType:function(e){e!==this.actionType&&(this.actionType=e)},toStand:function(){this.$router.push({name:"Stand"})},addMultiBorrowHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.token.contract,t.pool.masterContractInstance.address);case 2:if(r=n.sent,r){n.next=7;break}return n.next=6,t.approveToken(t.pool.token.contract,t.pool.masterContractInstance.address);case 6:r=n.sent;case 7:return n.next=9,t.isTokenApprowed(t.pool.token.contract,t.pool.swapContract.address);case 9:if(a=n.sent,a){n.next=14;break}return n.next=13,t.approveToken(t.pool.token.contract,t.pool.swapContract.address);case 13:a=n.sent;case 14:return n.next=16,t.isTokenApprowed(t.pool.pairTokenContract,t.pool.swapContract.address);case 16:if(o=n.sent,o){n.next=21;break}return n.next=20,t.approveToken(t.pool.pairTokenContract,t.pool.swapContract.address);case 20:o=n.sent;case 21:return n.next=23,t.isApprowed();case 23:if(s=n.sent,!(r&&a&&o)){n.next=27;break}return t.cookMultiBorrow(e,s),n.abrupt("return",!1);case 27:case"end":return n.stop()}}),n)})))()},addAndBorrowHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.token.contract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookAddAndBorrow(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.token.contract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookAddAndBorrow(e,a);case 13:case"end":return n.stop()}}),n)})))()},addCollateralHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.token.contract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookAddCollateral(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.token.contract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookAddCollateral(e,a);case 13:case"end":return n.stop()}}),n)})))()},borrowHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.token.contract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookBorrow(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.token.contract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookBorrow(e,a);case 13:case"end":return n.stop()}}),n)})))()},removeAndRepayHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookRemoveAndRepay(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookRemoveAndRepay(e,a);case 13:case"end":return n.stop()}}),n)})))()},repayHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookRepay(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookRepay(e,a);case 13:case"end":return n.stop()}}),n)})))()},removeCollateralHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isApprowed();case 2:r=n.sent,t.cookRemoveCollateral(e,r);case 4:case"end":return n.stop()}}),n)})))()},removeAndRepayMaxHandler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isTokenApprowed(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 2:return r=n.sent,n.next=5,t.isApprowed();case 5:if(a=n.sent,!r){n.next=9;break}return t.cookRemoveAndRepayMax(e,a),n.abrupt("return",!1);case 9:return n.next=11,t.approveToken(t.pool.pairTokenContract,t.pool.masterContractInstance.address);case 11:o=n.sent,o&&t.cookRemoveAndRepayMax(e,a);case 13:case"end":return n.stop()}}),n)})))()},cookRemoveAndRepayMax:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R,L,A,T,S,y,G;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.collateralAmount,s=e.updatePrice,c=n.account,u=n.pool.pairToken.address,i=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[u,c,"0x00","-0x01"]),p=n.$ethers.utils.defaultAbiCoder.encode(["int256"],[o]),l=n.$ethers.utils.defaultAbiCoder.encode(["int256","address","bool"],[o,c,!1]),d=n.$ethers.utils.defaultAbiCoder.encode(["int256","address"],[a,c]),f=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[n.pool.token.address,c,"0x00",a]),r.next=10,n.getGasPrice();case 10:if(r.sent,!t){r.next=31;break}if(!s){r.next=22;break}return m=n.getUpdateRateEncode(),r.next=16,n.pool.contractInstance.estimateGas.cook([11,6,20,2,4,21],[0,0,0,0,0,0],[m,p,i,l,d,f],{value:"0"});case 16:return g=r.sent,k=n.gasLimitConst+ +g.toString(),r.next=20,n.pool.contractInstance.cook([11,6,20,2,4,21],[0,0,0,0,0,0],[m,p,i,l,d,f],{value:"0",gasLimit:k});case 20:return r.sent,r.abrupt("return",!1);case 22:return r.next=24,n.pool.contractInstance.estimateGas.cook([6,20,2,4,21],[0,0,0,0,0],[p,i,l,d,f],{value:"0"});case 24:return x=r.sent,v=n.gasLimitConst+ +x.toString(),r.next=28,n.pool.contractInstance.cook([6,20,2,4,21],[0,0,0,0,0],[p,i,l,d,f],{value:"0",gasLimit:v});case 28:r.sent,r.next=75;break;case 31:return r.next=33,n.getApprovalEncode();case 33:if(b=r.sent,"ledger"!==b){r.next=58;break}return r.next=37,n.approveMasterContract();case 37:if(h=r.sent,h){r.next=40;break}return r.abrupt("return",!1);case 40:if(!s){r.next=50;break}return w=n.getUpdateRateEncode(),r.next=44,n.pool.contractInstance.estimateGas.cook([11,6,20,2,4,21],[0,0,0,0,0,0],[w,p,i,l,d,f],{value:"0"});case 44:return C=r.sent,I=n.gasLimitConst+ +C.toString(),r.next=48,n.pool.contractInstance.cook([11,6,20,2,4,21],[0,0,0,0,0,0],[w,p,i,l,d,f],{value:"0",gasLimit:I});case 48:return r.sent,r.abrupt("return",!1);case 50:return r.next=52,n.pool.contractInstance.estimateGas.cook([6,20,2,4,21],[0,0,0,0,0],[p,i,l,d,f],{value:"0"});case 52:return R=r.sent,L=n.gasLimitConst+ +R.toString(),r.next=56,n.pool.contractInstance.cook([6,20,2,4,21],[0,0,0,0,0],[p,i,l,d,f],{value:"0",gasLimit:L});case 56:return r.sent,r.abrupt("return",!1);case 58:if(!s){r.next=68;break}return A=n.getUpdateRateEncode(),r.next=62,n.pool.contractInstance.estimateGas.cook([24,11,6,20,2,4,21],[0,0,0,0,0,0,0],[b,A,p,i,l,d,f],{value:"0"});case 62:return T=r.sent,S=n.gasLimitConst+ +T.toString(),r.next=66,n.pool.contractInstance.cook([24,11,6,20,2,4,21],[0,0,0,0,0,0,0],[b,A,p,i,l,d,f],{value:"0",gasLimit:S});case 66:return r.sent,r.abrupt("return",!1);case 68:return r.next=70,n.pool.contractInstance.estimateGas.cook([24,6,20,2,4,21],[0,0,0,0,0,0],[b,p,i,l,d,f],{value:"0"});case 70:return y=r.sent,G=n.gasLimitConst+ +y.toString(),r.next=74,n.pool.contractInstance.cook([24,6,20,2,4,21],[0,0,0,0,0,0],[b,p,i,l,d,f],{value:"0",gasLimit:G});case 74:r.sent;case 75:case"end":return r.stop()}}),r)})))()},cookRepay:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R,L,A,T;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.updatePrice,s=n.account,c=n.pool.pairToken.address,u=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[c,s,a,"0x0"]),i=n.$ethers.utils.defaultAbiCoder.encode(["int256"],["-0x01"]),p=n.$ethers.utils.defaultAbiCoder.encode(["int256","address","bool"],["-0x01",s,!1]),r.next=8,n.getGasPrice();case 8:if(r.sent,!t){r.next=29;break}if(!o){r.next=20;break}return l=n.getUpdateRateEncode(),r.next=14,n.pool.contractInstance.estimateGas.cook([11,20,7,2],[0,0,0,0],[l,u,i,p],{value:"0"});case 14:return d=r.sent,f=n.gasLimitConst+ +d.toString(),r.next=18,n.pool.contractInstance.cook([11,20,7,2],[0,0,0,0],[l,u,i,p],{value:"0",gasLimit:f});case 18:return r.sent,r.abrupt("return",!1);case 20:return r.next=22,n.pool.contractInstance.estimateGas.cook([20,7,2],[0,0,0],[u,i,p],{value:"0"});case 22:return m=r.sent,g=n.gasLimitConst+ +m.toString(),r.next=26,n.pool.contractInstance.cook([20,7,2],[0,0,0],[u,i,p],{value:"0",gasLimit:g});case 26:r.sent,r.next=73;break;case 29:return r.next=31,n.getApprovalEncode();case 31:if(k=r.sent,"ledger"!==k){r.next=56;break}return r.next=35,n.approveMasterContract();case 35:if(x=r.sent,x){r.next=38;break}return r.abrupt("return",!1);case 38:if(!o){r.next=48;break}return v=n.getUpdateRateEncode(),r.next=42,n.pool.contractInstance.estimateGas.cook([11,20,7,2],[0,0,0,0],[v,u,i,p],{value:"0"});case 42:return b=r.sent,h=n.gasLimitConst+ +b.toString(),r.next=46,n.pool.contractInstance.cook([11,20,7,2],[0,0,0,0],[v,u,i,p],{value:"0",gasLimit:h});case 46:return r.sent,r.abrupt("return",!1);case 48:return r.next=50,n.pool.contractInstance.estimateGas.cook([20,7,2],[0,0,0],[u,i,p],{value:"0"});case 50:return w=r.sent,C=n.gasLimitConst+ +w.toString(),r.next=54,n.pool.contractInstance.cook([20,7,2],[0,0,0],[u,i,p],{value:"0",gasLimit:C});case 54:return r.sent,r.abrupt("return",!1);case 56:if(!o){r.next=66;break}return I=n.getUpdateRateEncode(),r.next=60,n.pool.contractInstance.estimateGas.cook([24,11,20,7,2],[0,0,0,0,0],[k,I,u,i,p],{value:"0"});case 60:return R=r.sent,L=n.gasLimitConst+ +R.toString(),r.next=64,n.pool.contractInstance.cook([24,11,20,7,2],[0,0,0,0,0],[k,I,u,i,p],{value:"0",gasLimit:L});case 64:return r.sent,r.abrupt("return",!1);case 66:return r.next=68,n.pool.contractInstance.estimateGas.cook([24,20,7,2],[0,0,0,0],[k,u,i,p],{value:"0"});case 68:return A=r.sent,T=n.gasLimitConst+ +A.toString(),r.next=72,n.pool.contractInstance.cook([24,20,7,2],[0,0,0,0],[k,u,i,p],{value:"0",gasLimit:T});case 72:r.sent;case 73:case"end":return r.stop()}}),r)})))()},cookRemoveCollateral:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.updatePrice,s=n.$ethers.utils.defaultAbiCoder.encode(["int256","address"],[a,n.account]),c=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[n.pool.token.address,n.account,"0x00",a]),r.next=5,n.getGasPrice();case 5:if(r.sent,!t){r.next=26;break}if(!o){r.next=17;break}return u=n.getUpdateRateEncode(),r.next=11,n.pool.contractInstance.estimateGas.cook([11,4,21],[0,0,0],[u,s,c],{value:"0"});case 11:return i=r.sent,p=n.gasLimitConst+ +i.toString(),r.next=15,n.pool.contractInstance.cook([11,4,21],[0,0,0],[u,s,c],{value:"0",gasLimit:p});case 15:return r.sent,r.abrupt("return",!1);case 17:return r.next=19,n.pool.contractInstance.estimateGas.cook([4,21],[0,0],[s,c],{value:"0"});case 19:return l=r.sent,d=n.gasLimitConst+ +l.toString(),r.next=23,n.pool.contractInstance.cook([4,21],[0,0],[s,c],{value:"0",gasLimit:d});case 23:r.sent,r.next=70;break;case 26:return r.next=28,n.getApprovalEncode();case 28:if(f=r.sent,"ledger"!==f){r.next=53;break}return r.next=32,n.approveMasterContract();case 32:if(m=r.sent,m){r.next=35;break}return r.abrupt("return",!1);case 35:if(!o){r.next=45;break}return g=n.getUpdateRateEncode(),r.next=39,n.pool.contractInstance.estimateGas.cook([11,4,21],[0,0,0],[g,s,c],{value:"0"});case 39:return k=r.sent,x=n.gasLimitConst+ +k.toString(),r.next=43,n.pool.contractInstance.cook([11,4,21],[0,0,0],[g,s,c],{value:"0",gasLimit:x});case 43:return r.sent,r.abrupt("return",!1);case 45:return r.next=47,n.pool.contractInstance.estimateGas.cook([4,21],[0,0],[s,c],{value:"0"});case 47:return v=r.sent,b=n.gasLimitConst+ +v.toString(),r.next=51,n.pool.contractInstance.cook([4,21],[0,0],[s,c],{value:"0",gasLimit:b});case 51:return r.sent,r.abrupt("return",!1);case 53:if(!o){r.next=63;break}return h=n.getUpdateRateEncode(),r.next=57,n.pool.contractInstance.estimateGas.cook([24,11,4,21],[0,0,0,0],[f,h,s,c],{value:"0"});case 57:return w=r.sent,C=n.gasLimitConst+ +w.toString(),r.next=61,n.pool.contractInstance.cook([24,11,4,21],[0,0,0,0],[f,h,s,c],{value:"0",gasLimit:C});case 61:return r.sent,r.abrupt("return",!1);case 63:return r.next=65,n.pool.contractInstance.estimateGas.cook([24,4,21],[0,0,0],[f,s,c],{value:"0"});case 65:return I=r.sent,R=n.gasLimitConst+ +I.toString(),r.next=69,n.pool.contractInstance.cook([24,4,21],[0,0,0],[f,s,c],{value:"0",gasLimit:R});case 69:r.sent;case 70:case"end":return r.stop()}}),r)})))()},cookRemoveAndRepay:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R,L,A,T,S,y,G;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.collateralAmount,s=e.updatePrice,c=n.account,u=n.pool.pairToken.address,i=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[u,c,o,"0x0"]),p=n.$ethers.utils.defaultAbiCoder.encode(["int256"],["-0x01"]),l=n.$ethers.utils.defaultAbiCoder.encode(["int256","address","bool"],["-0x01",c,!1]),d=n.$ethers.utils.defaultAbiCoder.encode(["int256","address"],[a,c]),f=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[n.pool.token.address,c,"0x00",a]),r.next=10,n.getGasPrice();case 10:if(r.sent,!t){r.next=31;break}if(!s){r.next=22;break}return m=n.getUpdateRateEncode(),r.next=16,n.pool.contractInstance.estimateGas.cook([11,20,7,2,4,21],[0,0,0,0,0,0],[m,i,p,l,d,f],{value:"0"});case 16:return g=r.sent,k=n.gasLimitConst+ +g.toString(),r.next=20,n.pool.contractInstance.cook([11,20,7,2,4,21],[0,0,0,0,0,0],[m,i,p,l,d,f],{value:"0",gasLimit:k});case 20:return r.sent,r.abrupt("return",!1);case 22:return r.next=24,n.pool.contractInstance.estimateGas.cook([20,7,2,4,21],[0,0,0,0,0],[i,p,l,d,f],{value:"0"});case 24:return x=r.sent,v=n.gasLimitConst+ +x.toString(),r.next=28,n.pool.contractInstance.cook([20,7,2,4,21],[0,0,0,0,0],[i,p,l,d,f],{value:"0",gasLimit:v});case 28:r.sent,r.next=75;break;case 31:return r.next=33,n.getApprovalEncode();case 33:if(b=r.sent,"ledger"!==b){r.next=58;break}return r.next=37,n.approveMasterContract();case 37:if(h=r.sent,h){r.next=40;break}return r.abrupt("return",!1);case 40:if(!s){r.next=50;break}return w=n.getUpdateRateEncode(),r.next=44,n.pool.contractInstance.estimateGas.cook([11,20,7,2,4,21],[0,0,0,0,0,0],[w,i,p,l,d,f],{value:"0"});case 44:return C=r.sent,I=n.gasLimitConst+ +C.toString(),r.next=48,n.pool.contractInstance.cook([11,20,7,2,4,21],[0,0,0,0,0,0],[w,i,p,l,d,f],{value:"0",gasLimit:I});case 48:return r.sent,r.abrupt("return",!1);case 50:return r.next=52,n.pool.contractInstance.estimateGas.cook([20,7,2,4,21],[0,0,0,0,0],[i,p,l,d,f],{value:"0"});case 52:return R=r.sent,L=n.gasLimitConst+ +R.toString(),r.next=56,n.pool.contractInstance.cook([20,7,2,4,21],[0,0,0,0,0],[i,p,l,d,f],{value:"0",gasLimit:L});case 56:return r.sent,r.abrupt("return",!1);case 58:if(!s){r.next=68;break}return A=n.getUpdateRateEncode(),r.next=62,n.pool.contractInstance.estimateGas.cook([24,11,20,7,2,4,21],[0,0,0,0,0,0,0],[b,A,i,p,l,d,f],{value:"0"});case 62:return T=r.sent,S=n.gasLimitConst+ +T.toString(),r.next=66,n.pool.contractInstance.cook([24,11,20,7,2,4,21],[0,0,0,0,0,0,0],[b,A,i,p,l,d,f],{value:"0",gasLimit:S});case 66:return r.sent,r.abrupt("return",!1);case 68:return r.next=70,n.pool.contractInstance.estimateGas.cook([24,20,7,2,4,21],[0,0,0,0,0,0],[b,i,p,l,d,f],{value:"0"});case 70:return y=r.sent,G=n.gasLimitConst+ +y.toString(),r.next=74,n.pool.contractInstance.cook([24,20,7,2,4,21],[0,0,0,0,0,0],[b,i,p,l,d,f],{value:"0",gasLimit:G});case 74:r.sent;case 75:case"end":return r.stop()}}),r)})))()},cookBorrow:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.updatePrice,s=n.getBorrowEncode(a),c=n.getBentoWithdrawEncode(a),r.next=5,n.getGasPrice();case 5:if(r.sent,!t){r.next=25;break}if(!o){r.next=17;break}return u=n.getUpdateRateEncode(),r.next=11,n.pool.contractInstance.estimateGas.cook([11,5,21],[0,0,0],[u,s,c],{value:0});case 11:return i=r.sent,p=n.gasLimitConst+ +i.toString(),r.next=15,n.pool.contractInstance.cook([11,5,21],[0,0,0],[u,s,c],{value:0,gasLimit:p});case 15:return r.sent,r.abrupt("return",!1);case 17:return r.next=19,n.pool.contractInstance.estimateGas.cook([5,21],[0,0],[s,c],{value:0});case 19:return l=r.sent,d=n.gasLimitConst+ +l.toString(),r.next=23,n.pool.contractInstance.cook([5,21],[0,0],[s,c],{value:0,gasLimit:d});case 23:return r.sent,r.abrupt("return",!1);case 25:return r.next=27,n.getApprovalEncode();case 27:if(f=r.sent,"ledger"!==f){r.next=52;break}return r.next=31,n.approveMasterContract();case 31:if(m=r.sent,m){r.next=34;break}return r.abrupt("return",!1);case 34:if(!o){r.next=44;break}return g=n.getUpdateRateEncode(),r.next=38,n.pool.contractInstance.estimateGas.cook([11,5,21],[0,0,0],[g,s,c],{value:0});case 38:return k=r.sent,x=n.gasLimitConst+ +k.toString(),r.next=42,n.pool.contractInstance.cook([11,5,21],[0,0,0],[g,s,c],{value:0,gasLimit:x});case 42:return r.sent,r.abrupt("return",!1);case 44:return r.next=46,n.pool.contractInstance.estimateGas.cook([5,21],[0,0],[s,c],{value:0});case 46:return v=r.sent,b=n.gasLimitConst+ +v.toString(),r.next=50,n.pool.contractInstance.cook([5,21],[0,0],[s,c],{value:0,gasLimit:b});case 50:return r.sent,r.abrupt("return",!1);case 52:if(!o){r.next=62;break}return h=n.getUpdateRateEncode(),r.next=56,n.pool.contractInstance.estimateGas.cook([24,11,5,21],[0,0,0,0],[f,h,s,c],{value:0});case 56:return w=r.sent,C=n.gasLimitConst+ +w.toString(),r.next=60,n.pool.contractInstance.cook([24,11,5,21],[0,0,0,0],[f,h,s,c],{value:0,gasLimit:C});case 60:return r.sent,r.abrupt("return",!1);case 62:return r.next=64,n.pool.contractInstance.estimateGas.cook([24,5,21],[0,0,0],[f,s,c],{value:0});case 64:return I=r.sent,R=n.gasLimitConst+ +I.toString(),r.next=68,n.pool.contractInstance.cook([24,5,21],[0,0,0],[f,s,c],{value:0,gasLimit:R});case 68:r.sent;case 69:case"end":return r.stop()}}),r)})))()},cookAddCollateral:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.amount,o=e.updatePrice,s=n.getDepositEncode(a),c=n.getAddCollateralEncode(),r.next=5,n.getGasPrice();case 5:if(r.sent,!t){r.next=25;break}if(!o){r.next=17;break}return u=n.getUpdateRateEncode(),r.next=11,n.pool.contractInstance.estimateGas.cook([11,20,10],[0,0,0],[u,s,c],{value:0});case 11:return i=r.sent,p=n.gasLimitConst+ +i.toString(),r.next=15,n.pool.contractInstance.cook([11,20,10],[0,0,0],[u,s,c],{value:0,gasLimit:p});case 15:return r.sent,r.abrupt("return",!1);case 17:return r.next=19,n.pool.contractInstance.estimateGas.cook([20,10],[0,0],[s,c],{value:0});case 19:return l=r.sent,d=n.gasLimitConst+ +l.toString(),r.next=23,n.pool.contractInstance.cook([20,10],[0,0],[s,c],{value:0,gasLimit:d});case 23:return r.sent,r.abrupt("return",!1);case 25:return r.next=27,n.getApprovalEncode();case 27:if(f=r.sent,"ledger"!==f){r.next=52;break}return r.next=31,n.approveMasterContract();case 31:if(m=r.sent,m){r.next=34;break}return r.abrupt("return",!1);case 34:if(!o){r.next=44;break}return g=n.getUpdateRateEncode(),r.next=38,n.pool.contractInstance.estimateGas.cook([11,20,10],[0,0,0],[g,s,c],{value:0});case 38:return k=r.sent,x=n.gasLimitConst+ +k.toString(),r.next=42,n.pool.contractInstance.cook([11,20,10],[0,0,0],[g,s,c],{value:0,gasLimit:x});case 42:return r.sent,r.abrupt("return",!1);case 44:return r.next=46,n.pool.contractInstance.estimateGas.cook([20,10],[0,0],[s,c],{value:0});case 46:return v=r.sent,b=n.gasLimitConst+ +v.toString(),r.next=50,n.pool.contractInstance.cook([20,10],[0,0],[s,c],{value:0,gasLimit:b});case 50:return r.sent,r.abrupt("return",!1);case 52:if(!o){r.next=62;break}return h=n.getUpdateRateEncode(),r.next=56,n.pool.contractInstance.estimateGas.cook([24,11,20,10],[0,0,0,0],[f,h,s,c],{value:0});case 56:return w=r.sent,C=n.gasLimitConst+ +w.toString(),r.next=60,n.pool.contractInstance.cook([24,11,20,10],[0,0,0,0],[f,h,s,c],{value:0,gasLimit:C});case 60:return r.sent,r.abrupt("return",!1);case 62:return r.next=64,n.pool.contractInstance.estimateGas.cook([24,20,10],[0,0,0],[f,s,c],{value:0});case 64:return I=r.sent,R=n.gasLimitConst+ +I.toString(),r.next=68,n.pool.contractInstance.cook([24,20,10],[0,0,0],[f,s,c],{value:0,gasLimit:R});case 68:r.sent;case 69:case"end":return r.stop()}}),r)})))()},cookAddAndBorrow:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R,L,A,T;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.collateralAmount,o=e.amount,s=e.updatePrice,c=n.getBorrowEncode(o),u=n.getDepositEncode(a),i=n.getAddCollateralEncode(),p=n.getBentoWithdrawEncode(o),r.next=7,n.getGasPrice();case 7:if(r.sent,!t){r.next=27;break}if(!s){r.next=19;break}return l=n.getUpdateRateEncode(),r.next=13,n.pool.contractInstance.estimateGas.cook([11,5,21,20,10],[0,0,0,0,0],[l,c,p,u,i],{value:"0"});case 13:return d=r.sent,f=n.gasLimitConst+ +d.toString(),r.next=17,n.pool.contractInstance.cook([11,5,21,20,10],[0,0,0,0,0],[l,c,p,u,i],{value:"0",gasLimit:f});case 17:return r.sent,r.abrupt("return",!1);case 19:return r.next=21,n.pool.contractInstance.estimateGas.cook([5,21,20,10],[0,0,0,0],[c,p,u,i],{value:"0"});case 21:return m=r.sent,g=n.gasLimitConst+ +m.toString(),r.next=25,n.pool.contractInstance.cook([5,21,20,10],[0,0,0,0],[c,p,u,i],{value:"0",gasLimit:g});case 25:return r.sent,r.abrupt("return",!1);case 27:return r.next=29,n.getApprovalEncode();case 29:if(k=r.sent,"ledger"!==k){r.next=54;break}return r.next=33,n.approveMasterContract();case 33:if(x=r.sent,x){r.next=36;break}return r.abrupt("return",!1);case 36:if(!s){r.next=46;break}return v=n.getUpdateRateEncode(),r.next=40,n.pool.contractInstance.estimateGas.cook([11,5,21,20,10],[0,0,0,0,0],[v,c,p,u,i],{value:"0"});case 40:return b=r.sent,h=n.gasLimitConst+ +b.toString(),r.next=44,n.pool.contractInstance.cook([11,5,21,20,10],[0,0,0,0,0],[v,c,p,u,i],{value:"0",gasLimit:h});case 44:return r.sent,r.abrupt("return",!1);case 46:return r.next=48,n.pool.contractInstance.estimateGas.cook([5,21,20,10],[0,0,0,0],[c,p,u,i],{value:"0"});case 48:return w=r.sent,C=n.gasLimitConst+ +w.toString(),r.next=52,n.pool.contractInstance.cook([5,21,20,10],[0,0,0,0],[c,p,u,i],{value:"0",gasLimit:C});case 52:return r.sent,r.abrupt("return",!1);case 54:if(!s){r.next=64;break}return I=n.getUpdateRateEncode(),r.next=58,n.pool.contractInstance.estimateGas.cook([24,11,5,21,20,10],[0,0,0,0,0,0],[k,I,c,p,u,i],{value:"0"});case 58:return R=r.sent,L=n.gasLimitConst+ +R.toString(),r.next=62,n.pool.contractInstance.cook([24,11,5,21,20,10],[0,0,0,0,0,0],[k,I,c,p,u,i],{value:"0",gasLimit:L});case 62:return r.sent,r.abrupt("return",!1);case 64:return r.next=66,n.pool.contractInstance.estimateGas.cook([24,5,21,20,10],[0,0,0,0,0],[k,c,p,u,i],{value:"0"});case 66:return A=r.sent,T=n.gasLimitConst+ +A.toString(),r.next=70,n.pool.contractInstance.cook([24,5,21,20,10],[0,0,0,0,0],[k,c,p,u,i],{value:"0",gasLimit:T});case 70:r.sent;case 71:case"end":return r.stop()}}),r)})))()},cookMultiBorrow:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s,c,u,i,p,l,d,f,m,g,k,x,v,b,h,w,C,I,R,L,A;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.collateralAmount,o=e.amount,s=e.updatePrice,c=e.minExpected,u=n.pool.token.address,i=n.pool.swapContract.address,p=n.account,l=[],d=[],f=[],t){r.next=22;break}return r.next=10,n.getApprovalEncode();case 10:if(m=r.sent,"ledger"!==m){r.next=19;break}return r.next=14,n.approveMasterContract();case 14:if(g=r.sent,g){r.next=17;break}return r.abrupt("return",!1);case 17:r.next=22;break;case 19:l.push(24),d.push(0),f.push(m);case 22:return s&&(k=n.getUpdateRateEncode(),l.push(11),d.push(0),f.push(k)),x=n.$ethers.utils.defaultAbiCoder.encode(["int256","address","bool"],["-0x02",p,!1]),a&&(v=n.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[u,p,a,"0"]),l.push(20),d.push(0),f.push(v),l.push(10),d.push(0),f.push(x)),b=n.$ethers.utils.defaultAbiCoder.encode(["int256","address"],[o,i]),l.push(5),d.push(0),f.push(b),r.next=31,n.pool.swapContract.populateTransaction.swap(p,c,0,{gasLimit:1e7});case 31:return h=r.sent,w=h.data.substr(0,138),C=n.$ethers.utils.defaultAbiCoder.encode(["address","bytes","bool","bool","uint8"],[i,w,!1,!0,2]),l.push(30),d.push(0),f.push(C),l.push(10),d.push(0),f.push(x),I={events:l,values:d,datas:f},r.prev=41,r.next=44,n.pool.contractInstance.estimateGas.cook(I.events,I.values,I.datas,{value:0});case 44:return R=r.sent,L=n.gasLimitConst+ +R.toString(),r.next=48,n.pool.contractInstance.cook(I.events,I.values,I.datas,{value:0,gasLimit:L});case 48:r.sent,r.next=54;break;case 51:r.prev=51,r.t0=r["catch"](41),"UNPREDICTABLE_GAS_LIMIT"===r.t0.code&&(A={msg:"OMG OMG OMG"},n.$store.commit("addNotification",A));case 54:case"end":return r.stop()}}),r,null,[[41,51]])})))()},getBorrowEncode:function(e){return this.$ethers.utils.defaultAbiCoder.encode(["int256","address"],[e,this.account])},getDepositEncode:function(e){return this.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[this.pool.token.address,this.account,e,"0"])},getUpdateRateEncode:function(){return this.$ethers.utils.defaultAbiCoder.encode(["bool","uint256","uint256"],[!0,"0x00","0x00"])},getAddCollateralEncode:function(){return this.$ethers.utils.defaultAbiCoder.encode(["int256","address","bool"],["-2",this.account,!1])},getBentoWithdrawEncode:function(e){var t=this.pool.pairToken.address;return this.$ethers.utils.defaultAbiCoder.encode(["address","address","int256","int256"],[t,this.account,e,"0x0"])},getApprovalEncode:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s,c,u,i,p,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.account,t.next=3,e.getVerifyingContract();case 3:return r=t.sent,t.next=6,e.getMasterContract();case 6:return a=t.sent,t.next=9,e.getNonce();case 9:return o=t.sent,s=e.$store.getters.getActiveChain.code,c={name:"BentoBox V1",chainId:s,verifyingContract:r},u={SetMasterContractApproval:[{name:"warning",type:"string"},{name:"user",type:"address"},{name:"masterContract",type:"address"},{name:"approved",type:"bool"},{name:"nonce",type:"uint256"}]},i={warning:"Give FULL access to funds in (and approved to) BentoBox?",user:n,masterContract:a,approved:!0,nonce:o},t.prev=14,t.next=17,e.signer._signTypedData(c,u,i);case 17:p=t.sent,t.next=25;break;case 20:if(t.prev=20,t.t0=t["catch"](14),-32603!==t.t0.code){t.next=24;break}return t.abrupt("return","ledger");case 24:return t.abrupt("return",!1);case 25:return l=e.parseSignature(p),t.abrupt("return",e.$ethers.utils.defaultAbiCoder.encode(["address","address","bool","uint8","bytes32","bytes32"],[n,a,!0,l.v,l.r,l.s]));case 27:case"end":return t.stop()}}),t,null,[[14,20]])})))()},parseSignature:function(e){var t=e.substring(2),n=t.substring(0,64),r=t.substring(64,128),a=t.substring(128,130);return{r:"0x"+n,s:"0x"+r,v:parseInt(a,16)}},getGasPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.signer.getGasPrice();case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getMasterContract:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.pool.contractInstance.masterContract();case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getVerifyingContract:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.pool.contractInstance.bentoBox();case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},isApprowed:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getMasterContract();case 3:return n=t.sent,t.next=6,e.pool.masterContractInstance.masterContractApproved(n,e.account);case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},isTokenApprowed:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.allowance(n.account,t,{gasLimit:1e6});case 3:return a=r.sent,r.abrupt("return",parseFloat(a.toString())>0);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",!1);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},approveToken:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.estimateGas.approve(t,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");case 3:return a=r.sent,o=n.gasLimitConst+ +a.toString(),r.next=7,e.approve(t,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",{gasLimit:o});case 7:return s=r.sent,r.next=10,s.wait();case 10:return r.sent,r.abrupt("return",!0);case 14:return r.prev=14,r.t0=r["catch"](0),r.abrupt("return",!1);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))()},approveMasterContract:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getMasterContract();case 3:return n=t.sent,t.next=6,e.pool.masterContractInstance.setMasterContractApproval(e.account,n,!0,e.$ethers.utils.formatBytes32String(""),e.$ethers.utils.formatBytes32String(""),e.$ethers.utils.formatBytes32String(""));case 6:return r=t.sent,t.next=9,r.wait();case 9:return a=t.sent,t.abrupt("return",a);case 13:return t.prev=13,t.t0=t["catch"](0),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},getNonce:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.pool.masterContractInstance.nonces(e.account);case 3:return n=t.sent,t.abrupt("return",n.toString());case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getTokenPrice:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("getTokenPrice",{from:e,to:"USD"});case 2:return r=n.sent,n.abrupt("return",r.USD);case 4:case"end":return n.stop()}}),n)})))()},updatePrices:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTokenPrice(e.pool.token.name);case 2:return e.pool.tokenPrice=t.sent,t.next=5,e.getTokenPrice(e.pool.pairToken.name);case 5:e.pool.tokenPairPrice=t.sent;case 6:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.getters.getWalletIsConnected,n){t.next=5;break}return e.$router.push({name:"Home"}),alert("Connect wallet first"),t.abrupt("return",!1);case 5:if(r=e.$route.params.id,a=e.$store.getters.getPoolById(r),a){t.next=10;break}return e.$router.push({name:"Stand"}),t.abrupt("return",!1);case 10:!e.$route.query.actionType||"borrow"!==e.$route.query.actionType&&"repay"!==e.$route.query.actionType||e.setActionType(e.$route.query.actionType);case 11:case"end":return t.stop()}}),t)})))()},components:{BorrowRepayComponent:s,CollateralParameters:c,Balances:u,InfoBlock:i,BackButton:p,LiquidationBar:l}},f=d,m=(n("f915"),n("2877")),g=Object(m["a"])(f,r,a,!1,null,"113e8bc9",null);t["default"]=g.exports},f915:function(e,t,n){"use strict";n("0842")}}]);